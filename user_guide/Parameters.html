
<!DOCTYPE html>

<html>
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/><meta content="Docutils 0.17.1: http://docutils.sourceforge.net/" name="generator"/>
<title>Parameters and Parameterized objects — param 1.12.0.post3+g78e2ea4 documentation</title>
<link href="../_static/css/theme.css" rel="stylesheet"/>
<link href="../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet"/>
<link href="../_static/vendor/fontawesome/5.13.0/css/all.min.css" rel="stylesheet"/>
<link as="font" crossorigin="" href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2" rel="preload" type="font/woff2"/>
<link as="font" crossorigin="" href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2" rel="preload" type="font/woff2"/>
<link href="../_static/pygments.css" rel="stylesheet" type="text/css">
<link href="../_static/css/blank.css" rel="stylesheet" type="text/css">
<link href="../_static/togglebutton.css" rel="stylesheet" type="text/css">
<link href="../_static/mystnb.css" rel="stylesheet" type="text/css">
<link href="../_static/graphviz.css" rel="stylesheet" type="text/css">
<link href="../_static/copybutton.css" rel="stylesheet" type="text/css"/>
<link href="../_static/site.css" rel="stylesheet" type="text/css"/>
<link as="script" href="../_static/js/index.be7d3bbb2ef33a8344ce.js" rel="preload"/>
<script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
<script src="../_static/jquery.js"></script>
<script src="../_static/underscore.js"></script>
<script src="../_static/doctools.js"></script>
<script src="../_static/togglebutton.js"></script>
<script src="../_static/clipboard.min.js"></script>
<script src="../_static/copybutton.js"></script>
<script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
<link href="../_static/favicon.ico" rel="shortcut icon">
<link href="../about.html" rel="author" title="About these documents"/>
<link href="../genindex.html" rel="index" title="Index"/>
<link href="../search.html" rel="search" title="Search"/>
<link href="Parameter_Types.html" rel="next" title="Parameter types"/>
<link href="Simplifying_Codebases.html" rel="prev" title="Simplifying Codebases"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<meta content="None" name="docsearch:language"/>
<!-- Google Analytics -->
<script async="" src="https://www.google-analytics.com/analytics.js"></script>
<script>
                        window.ga = window.ga || function () {
                            (ga.q = ga.q || []).push(arguments) };
                        ga.l = +new Date;
                        ga('create', 'UA-154795830-6', 'auto');
                        ga('set', 'anonymizeIp', true);
                        ga('send', 'pageview');
                    </script>
</link></link></link></link></link></link></head>
<body data-offset="80" data-spy="scroll" data-target="#bd-toc-nav">
<div class="container-fluid" id="banner"></div>
<nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">
<div id="navbar-start">
<a class="navbar-brand" href="../index.html">
<img alt="logo" class="logo" src="../_static/logo_horizontal.png"/>
</a>
</div>
<button aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation" class="navbar-toggler" data-target="#navbar-collapsible" data-toggle="collapse" type="button">
<span class="navbar-toggler-icon"></span>
</button>
<div class="col-lg-9 collapse navbar-collapse" id="navbar-collapsible">
<div class="mr-auto" id="navbar-center">
<div class="navbar-center-item">
<ul class="navbar-nav" id="navbar-main-elements">
<li class="toctree-l1 nav-item">
<a class="reference internal nav-link" href="../index.html">
  Introduction
 </a>
</li>
<li class="toctree-l1 nav-item">
<a class="reference internal nav-link" href="../getting_started.html">
  Getting Started
 </a>
</li>
<li class="toctree-l1 current active nav-item">
<a class="reference internal nav-link" href="index.html">
  User Guide
 </a>
</li>
<li class="toctree-l1 nav-item">
<a class="reference internal nav-link" href="../comparisons.html">
  Comparisons
 </a>
</li>
<li class="toctree-l1 nav-item">
<a class="reference internal nav-link" href="../roadmap.html">
  Roadmap
 </a>
</li>
<li class="toctree-l1 nav-item">
<a class="reference internal nav-link" href="../reference.html">
  API
 </a>
</li>
<li class="toctree-l1 nav-item">
<a class="reference external nav-link" href="https://github.com/holoviz/param">
  Github Source
 </a>
</li>
<li class="toctree-l1 nav-item">
<a class="reference internal nav-link" href="../about.html">
  About
 </a>
</li>
</ul>
</div>
</div>
<div id="navbar-end">
<div class="navbar-end-item">
<ul aria-label="Icon Links" class="navbar-nav" id="navbar-icon-links">
<li class="nav-item">
<a class="nav-link" href="https://github.com/holoviz/param" rel="noopener" target="_blank" title="GitHub">
<span><i class="fab fa-github-square"></i></span>
<label class="sr-only">GitHub</label>
</a>
</li>
<li class="nav-item">
<a class="nav-link" href="https://discourse.holoviz.org/" rel="noopener" target="_blank" title="Discourse">
<span><i class="fab fa-discourse"></i></span>
<label class="sr-only">Discourse</label>
</a>
</li>
</ul>
</div>
</div>
</div>
</div>
</nav>
<div class="container-xl">
<div class="row">
<!-- Only show if we have sidebars configured, else just a small margin  -->
<div class="col-12 col-md-3 bd-sidebar"><form action="../search.html" class="bd-search d-flex align-items-center" method="get">
<i class="icon fas fa-search"></i>
<input aria-label="Search the docs ..." autocomplete="off" class="form-control" id="search-input" name="q" placeholder="Search the docs ..." type="search"/>
</form><nav aria-label="Main navigation" class="bd-links" id="bd-docs-nav">
<div class="bd-toc-item active">
<ul class="current nav bd-sidenav">
<li class="toctree-l1">
<a class="reference internal" href="index.html">
   Overview
  </a>
</li>
<li class="toctree-l1">
<a class="reference internal" href="Simplifying_Codebases.html">
   Simplifying Codebases
  </a>
</li>
<li class="toctree-l1 current active">
<a class="current reference internal" href="#">
   Parameters and Parameterized objects
  </a>
</li>
<li class="toctree-l1">
<a class="reference internal" href="Parameter_Types.html">
   Parameter Types
  </a>
</li>
<li class="toctree-l1">
<a class="reference internal" href="Dependencies_and_Watchers.html">
   Dependencies and Watchers
  </a>
</li>
<li class="toctree-l1">
<a class="reference internal" href="Serialization_and_Persistence.html">
   Serialization and Persistence
  </a>
</li>
<li class="toctree-l1">
<a class="reference internal" href="Outputs.html">
   Outputs
  </a>
</li>
<li class="toctree-l1">
<a class="reference internal" href="Logging_and_Warnings.html">
   Logging and Warnings
  </a>
</li>
<li class="toctree-l1">
<a class="reference internal" href="ParameterizedFunctions.html">
   ParameterizedFunctions
  </a>
</li>
<li class="toctree-l1">
<a class="reference internal" href="Dynamic_Parameters.html">
   Dynamic Parameters
  </a>
</li>
<li class="toctree-l1">
<a class="reference internal" href="How_Param_Works.html">
   How Param Works
  </a>
</li>
</ul>
</div>
</nav>
</div>
<div class="d-none d-xl-block col-xl-2 bd-toc">
<div class="toc-item">
<div class="tocsection onthispage pt-5 pb-3">
<i class="fas fa-list"></i> On this page
</div>
<nav id="bd-toc-nav">
<ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry">
<a class="reference internal nav-link" href="#">
   Parameters and Parameterized objects
  </a>
<ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry">
<a class="reference internal nav-link" href="#parameter-metadata">
     Parameter metadata
    </a>
</li>
<li class="toc-h2 nav-item toc-entry">
<a class="reference internal nav-link" href="#parameter-objects-and-instances">
     Parameter objects and instances
    </a>
</li>
<li class="toc-h2 nav-item toc-entry">
<a class="reference internal nav-link" href="#parameter-inheritance-and-instantiation">
     Parameter inheritance and instantiation
    </a>
</li>
<li class="toc-h2 nav-item toc-entry">
<a class="reference internal nav-link" href="#parameter-metadata-inheritance-and-instantiation">
     Parameter metadata inheritance and instantiation
    </a>
</li>
<li class="toc-h2 nav-item toc-entry">
<a class="reference internal nav-link" href="#instantiating-with-shared-parameters">
     Instantiating with shared parameters
    </a>
</li>
<li class="toc-h2 nav-item toc-entry">
<a class="reference internal nav-link" href="#displaying-parameterized-objects">
     Displaying Parameterized objects
    </a>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry">
<a class="reference internal nav-link" href="#other-parameterized-methods">
   Other Parameterized methods
  </a>
<ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry">
<a class="reference internal nav-link" href="#specialized-parameter-types">
     Specialized Parameter types
    </a>
</li>
</ul>
</li>
</ul>
</nav>
</div>
<div class="toc-item">
</div>
</div>
<main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
<div>
<section class="tex2jax_ignore mathjax_ignore" id="parameters-and-parameterized-objects">
<h1>Parameters and Parameterized objects<a class="headerlink" href="#parameters-and-parameterized-objects" title="Permalink to this headline">¶</a></h1>
<p>Fundamentally, what Param does is allow you to control how certain user-visible attributes (“parameters”) of a Python class or instance will behave when their value is get or set. A user of that class can set those attributes to control the class, but only if the mechanisms provided by Param and configured by the programmer allow it. In this way, Param allows the author of a class to implement and constrain what a user can do with that class or an instance of it, setting up a clear contract of what is and is not allowed, and how that attribute will behave. To do this, Param provides two main new types of Python object: <code class="docutils literal notranslate"><span class="pre">Parameter</span></code> objects, and <code class="docutils literal notranslate"><span class="pre">Parameterized</span></code> objects.</p>
<p>A parameter is a special kind of Python class attribute.  Setting a <code class="docutils literal notranslate"><span class="pre">Parameterized</span></code> class attribute to be a Parameter instance causes that attribute of the class (and the class’s instances) to be treated as a parameter, not just an ordinary attribute. Parameters support special behavior, including dynamically generated parameter values, documentation strings, constant and read-only parameters, type or range checking at assignment time, and values dependent on those of other parameters.</p>
<p>More concretely, a Python <code class="docutils literal notranslate"><span class="pre">Parameter</span></code> object inherits from <code class="docutils literal notranslate"><span class="pre">param.Parameter</span></code> and stores various metadata attributes describing how a corresponding Python attribute of a <code class="docutils literal notranslate"><span class="pre">Parameterized</span></code> object should behave. By convention, we will use a capital ‘P’ Parameter to refer to the Parameter object itself, and a lower-case ‘p’ parameter to refer to the Python attribute it controls (i.e., the Parameter’s “value”).</p>
<p>A <code class="docutils literal notranslate"><span class="pre">Parameterized</span></code> class is a Python class that inherits from <code class="docutils literal notranslate"><span class="pre">param.Parameterized</span></code> and can accept <code class="docutils literal notranslate"><span class="pre">Parameter</span></code> objects as class attributes. A <code class="docutils literal notranslate"><span class="pre">Parameterized</span></code> class or instance uses the <code class="docutils literal notranslate"><span class="pre">Parameter</span></code> objects to determine how the corresponding attribute should behave.</p>
<p>There are many specific types of <code class="docutils literal notranslate"><span class="pre">Parameter</span></code> with different behavior, discussed in <a class="reference internal" href="Parameter_Types.html"><span class="doc std std-doc">Parameter Types</span></a>, but here we will cover the common behavior between <em>all</em> Parameter types when used in a <code class="docutils literal notranslate"><span class="pre">Parameterized</span></code> object.</p>
<section id="parameter-metadata">
<h2>Parameter metadata<a class="headerlink" href="#parameter-metadata" title="Permalink to this headline">¶</a></h2>
<p>Each Parameter type can define additional behavior and associated metadata, but the metadata supported for all Parameter types includes:</p>
<ul class="simple">
<li><p><strong>default</strong>: Default value for this parameter at the class level, which will also be the value at the Parameterized instance level if it hasn’t been set separately on the instance.</p></li>
<li><p><strong>name</strong>: String <strong>name</strong> of this parameter, which is typically determined by the attribute name of this Parameter in the owning Parameterized object, and is not set directly by a programmer.</p></li>
<li><p><strong>label</strong>: Optional long name used for a verbose listing; defaults to the <strong>name</strong>.</p></li>
<li><p><strong>allow_None</strong>: Whether this parameter accepts None as an allowed value, in addition to whatever other types it accepts. Automatically set to True if the default value of this Parameter is None.</p></li>
<li><p><strong>doc</strong>: Docstring describing this parameter, which can be used by automatic documentation systems.</p></li>
<li><p><strong>constant</strong>: Parameter whose value can only be changed at the class level or in a Parameterized constructor. Once the Parameterized instance has been created, the value is constant except in the context of <code class="docutils literal notranslate"><span class="pre">with</span> <span class="pre">param.edit_constant(obj)</span></code> (see below).</p></li>
<li><p><strong>readonly</strong>: Parameter whose value cannot be set by a user either on an instance or at the class level. Can still be changed inside a codebase by temporarily overriding this value, e.g. to report internal state.</p></li>
<li><p><strong>instantiate</strong>: Whether to deepcopy the default value into a Parameterized instance when it is created. False by default for Parameter and most of its subtypes, but some Parameter types commonly used with mutable containers default to <code class="docutils literal notranslate"><span class="pre">instantiate=True</span></code> to avoid interaction between separate Parameterized instances, and users can control this when declaring the Parameter (see below).</p></li>
<li><p><strong>per_instance</strong>: whether a separate Parameter instance will be created for every Parameterized instance created. Similar to <code class="docutils literal notranslate"><span class="pre">instantiate</span></code>, but applies to the Parameter object rather than to its value.</p></li>
<li><p><strong>precedence</strong>: Optional numeric value controlling whether this parameter is visible in a listing and if so in what order.</p></li>
</ul>
<p>Most of these settings (apart from <strong>name</strong>) are accepted as keyword arguments to the Parameter’s constructor, with <code class="docutils literal notranslate"><span class="pre">default</span></code> also accepted as a positional argument:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">param</span>
<span class="kn">from</span> <span class="nn">param</span> <span class="kn">import</span> <span class="n">Parameter</span><span class="p">,</span> <span class="n">Parameterized</span>

<span class="n">p</span> <span class="o">=</span> <span class="n">Parameter</span><span class="p">(</span><span class="mi">42</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">"The answer"</span><span class="p">,</span> <span class="n">constant</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">default</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>42
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">p</span><span class="o">.</span><span class="n">allow_None</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>False
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">p</span><span class="o">.</span><span class="n">doc</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>'The answer'
</pre></div>
</div>
</div>
</div>
</section>
<section id="parameter-objects-and-instances">
<h2>Parameter objects and instances<a class="headerlink" href="#parameter-objects-and-instances" title="Permalink to this headline">¶</a></h2>
<p>In most cases, a Parameter will not be declared on its own as above; the Parameter object by itself is little more than a container for the metadata above. Until it is put into a class, most of those declarations are not meaningful, because what the Parameter object does is to specify how the corresponding Python attribute of that class should be handled. For example, we can define a Parameterized class with a couple of Parameter objects, and we’ll then be able to access the corresponding attributes of that class:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">A</span><span class="p">(</span><span class="n">Parameterized</span><span class="p">):</span>
    <span class="n">question</span> <span class="o">=</span> <span class="n">Parameter</span><span class="p">(</span><span class="s2">"What is it?"</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">"The question"</span><span class="p">)</span>
    <span class="n">answer</span> <span class="o">=</span> <span class="n">Parameter</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">constant</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">"The answer"</span><span class="p">)</span>
    <span class="n">ultimate_answer</span> <span class="o">=</span> <span class="n">Parameter</span><span class="p">(</span><span class="mi">42</span><span class="p">,</span> <span class="n">readonly</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">"The real answer"</span><span class="p">)</span>

<span class="n">a</span> <span class="o">=</span> <span class="n">A</span><span class="p">(</span><span class="n">question</span><span class="o">=</span><span class="s2">"How is it?"</span><span class="p">,</span> <span class="n">answer</span><span class="o">=</span><span class="s2">"6"</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Here, we created a Parameterized class <code class="docutils literal notranslate"><span class="pre">A</span></code>, with parameters <code class="docutils literal notranslate"><span class="pre">question</span></code> and <code class="docutils literal notranslate"><span class="pre">answer</span></code>, each with default values. We then instantiated a Python object <code class="docutils literal notranslate"><span class="pre">a</span></code> of type <code class="docutils literal notranslate"><span class="pre">A</span></code>. Without having to write a constructor for <code class="docutils literal notranslate"><span class="pre">A</span></code>, we were able to provide our own values for <code class="docutils literal notranslate"><span class="pre">question</span></code> and <code class="docutils literal notranslate"><span class="pre">answer</span></code>, while inheriting the default value of <code class="docutils literal notranslate"><span class="pre">ultimate_answer</span></code>. This approach gives a lot of (but not too much!) configurability to the user of this class, without much effort by the class author. Any values we provide at instantiation need to be allowed by the <code class="docutils literal notranslate"><span class="pre">Parameter</span></code> declaration; e.g. here we could not provide a value for <code class="docutils literal notranslate"><span class="pre">ultimate_answer</span></code> when declaring <code class="docutils literal notranslate"><span class="pre">a</span></code>, because that parameter is declared read only:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">param</span><span class="o">.</span><span class="n">exceptions_summarized</span><span class="p">():</span>
    <span class="n">A</span><span class="p">(</span><span class="n">ultimate_answer</span><span class="o">=</span><span class="s2">"no"</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>TypeError: Read-only parameter 'ultimate_answer' cannot be modified
</pre></div>
</div>
</div>
</div>
<p>Now that we have a Parameterized instance <code class="docutils literal notranslate"><span class="pre">a</span></code>, we can access the attributes we defined just as if they were normal Python instance attributes, and we’ll get the values we provided:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span><span class="o">.</span><span class="n">question</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>'How is it?'
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span><span class="o">.</span><span class="n">answer</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>'6'
</pre></div>
</div>
</div>
</div>
<p>Meanwhile, the <code class="docutils literal notranslate"><span class="pre">Parameterized</span></code> <em>class</em> <code class="docutils literal notranslate"><span class="pre">A</span></code> (not the instance <code class="docutils literal notranslate"><span class="pre">a</span></code>) still has the default values, accessible as class attributes and used for any future objects instantiated of type <code class="docutils literal notranslate"><span class="pre">A</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">A</span><span class="o">.</span><span class="n">question</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>'What is it?'
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">A</span><span class="o">.</span><span class="n">answer</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">b</span><span class="o">=</span><span class="n">A</span><span class="p">()</span>
<span class="n">b</span><span class="o">.</span><span class="n">answer</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2
</pre></div>
</div>
</div>
</div>
<p>If accessing the attribute always gives us a value whether on the instance or the class, what happened to the <code class="docutils literal notranslate"><span class="pre">Parameter</span></code> objects? They are stored on the Parameterized instance or class, and are accessible via a special <code class="docutils literal notranslate"><span class="pre">param</span></code> accessor object at either the instance or class levels:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span><span class="o">.</span><span class="n">param</span><span class="o">.</span><span class="n">question</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;param.parameterized.Parameter at 0x7ff39458d410&gt;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span><span class="o">.</span><span class="n">param</span><span class="o">.</span><span class="n">question</span><span class="o">.</span><span class="n">name</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>'question'
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span><span class="o">.</span><span class="n">param</span><span class="o">.</span><span class="n">question</span><span class="o">.</span><span class="n">default</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>'What is it?'
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">A</span><span class="o">.</span><span class="n">param</span><span class="o">.</span><span class="n">question</span><span class="o">.</span><span class="n">default</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>'What is it?'
</pre></div>
</div>
</div>
</div>
<p>Once the Parameterized instance is created, the attributes can continue to be modified on it as often as you like, as long as the value is allowed by the <code class="docutils literal notranslate"><span class="pre">Parameter</span></code> object involved. E.g. <code class="docutils literal notranslate"><span class="pre">question</span></code> can still be changed, while <code class="docutils literal notranslate"><span class="pre">answer</span></code> is constant and cannot be changed after the <code class="docutils literal notranslate"><span class="pre">Parameterized</span></code> object has been instantiated:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">param</span><span class="o">.</span><span class="n">exceptions_summarized</span><span class="p">():</span>
    <span class="n">a</span><span class="o">.</span><span class="n">question</span><span class="o">=</span><span class="kc">True</span>
    <span class="n">a</span><span class="o">.</span><span class="n">answer</span><span class="o">=</span><span class="mi">5</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>TypeError: Constant parameter 'answer' cannot be modified
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span><span class="o">.</span><span class="n">question</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<p>Note that if for some reason you do need to change the value of a constant parameter (typically inside of your Parameterized object’s own code), you can do so using the <code class="docutils literal notranslate"><span class="pre">param.edit_constant</span></code> context manager:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">param</span><span class="o">.</span><span class="n">edit_constant</span><span class="p">(</span><span class="n">a</span><span class="p">):</span>
    <span class="n">a</span><span class="o">.</span><span class="n">answer</span><span class="o">=</span><span class="mi">30</span>
<span class="n">a</span><span class="o">.</span><span class="n">answer</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>30
</pre></div>
</div>
</div>
</div>
<p>In most cases, the only time you need to worry about the difference between a Parameter and a regular Python attribute is when you first declare it; after that it will sit there happily behaving as instructed, noticeable only when a user attempts something the declarer of that Parameter has not allowed. You can safely leave the various metadata items at their defaults most of the time, but they are all there for when your particular application requires a certain behavior.</p>
</section>
<section id="parameter-inheritance-and-instantiation">
<h2>Parameter inheritance and instantiation<a class="headerlink" href="#parameter-inheritance-and-instantiation" title="Permalink to this headline">¶</a></h2>
<p>Much of the parameter metadata is there to help you control whether and how the parameter value is instantiated on Parameterized objects as they are created or new Parameterized subclasses as they are defined. Depending on how you want to use that Parameter and what values it might take, controlling instantiation can be very important when mutable values are involved. First, let’s look at the default behavior, which is appropriate for immutable attributes:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">B</span><span class="p">(</span><span class="n">A</span><span class="p">):</span>
    <span class="n">ultimate_answer</span> <span class="o">=</span> <span class="n">Parameter</span><span class="p">(</span><span class="mi">84</span><span class="p">,</span> <span class="n">readonly</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">b</span> <span class="o">=</span> <span class="n">B</span><span class="p">()</span>
<span class="n">b</span><span class="o">.</span><span class="n">question</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>'What is it?'
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">A</span><span class="o">.</span><span class="n">question</span><span class="o">=</span><span class="s2">"How are you?"</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">b</span><span class="o">.</span><span class="n">question</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>'How are you?'
</pre></div>
</div>
</div>
</div>
<p>Here you can see that B inherits the <code class="docutils literal notranslate"><span class="pre">question</span></code> parameter from A, and as long as <code class="docutils literal notranslate"><span class="pre">question</span></code> has not been set explicitly on <code class="docutils literal notranslate"><span class="pre">b</span></code>, <code class="docutils literal notranslate"><span class="pre">b.question</span></code> will report the value from where that Parameter was defined, i.e. A in this case. If <code class="docutils literal notranslate"><span class="pre">question</span></code> is subsequently set on <code class="docutils literal notranslate"><span class="pre">b</span></code>, <code class="docutils literal notranslate"><span class="pre">b.question</span></code> will no longer be affected by the value in <code class="docutils literal notranslate"><span class="pre">A</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">b</span><span class="o">.</span><span class="n">question</span><span class="o">=</span><span class="s2">"Why?"</span>
<span class="n">A</span><span class="o">.</span><span class="n">question</span><span class="o">=</span><span class="s2">"Who?"</span>
<span class="n">b</span><span class="o">.</span><span class="n">question</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>'Why?'
</pre></div>
</div>
</div>
</div>
<p>As you can see, parameters not specified in B are still fully usable in it, if they were declared in a superclass. Metadata associated with that parameter is also inherited if not explicitly overidden in <code class="docutils literal notranslate"><span class="pre">B</span></code>. E.g. <code class="docutils literal notranslate"><span class="pre">help(b)</span></code> or  <code class="docutils literal notranslate"><span class="pre">help(B)</span></code> will list all parameters:</p>
<p><img alt="Param help" src="../assets/param_help.png"/></p>
<p>Parameter inheritance like this lets you (a) use a parameter in many subclasses without having to define it more than once, and (b) control the value of that parameter conveniently across the entire set of subclasses and instances, as long as that attribute has not been set on those objects already. Using inheritance in this way is a very convenient mechanism for setting default values and other “global” parameters, whether before a program starts executing or during it.</p>
<p>However, what happens if the value (unlike Python strings) is mutable? Things get a lot more complex:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>

<span class="k">class</span> <span class="nc">C</span><span class="p">(</span><span class="n">Parameterized</span><span class="p">):</span>
    <span class="n">s1</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">Parameter</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">"A sequence"</span><span class="p">)</span>
    <span class="n">s2</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">Parameter</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">"Another sequence"</span><span class="p">)</span>

<span class="n">c</span> <span class="o">=</span> <span class="n">C</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>Here, both parameters <code class="docutils literal notranslate"><span class="pre">s1</span></code> and <code class="docutils literal notranslate"><span class="pre">s2</span></code> effectively point to the same underlying sequence <code class="docutils literal notranslate"><span class="pre">s</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">c</span><span class="o">.</span><span class="n">s1</span> <span class="ow">is</span> <span class="n">c</span><span class="o">.</span><span class="n">s2</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*=</span><span class="mi">5</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">s</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[1, 10, 3]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">c</span><span class="o">.</span><span class="n">s1</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[1, 10, 3]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">c</span><span class="o">.</span><span class="n">s1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">=</span><span class="s1">'a'</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">c</span><span class="o">.</span><span class="n">s1</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[1, 10, 'a']
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">c</span><span class="o">.</span><span class="n">s2</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[1, 10, 'a']
</pre></div>
</div>
</div>
</div>
<p>As you can see, there is only one actual sequence here, and <code class="docutils literal notranslate"><span class="pre">s</span></code>, <code class="docutils literal notranslate"><span class="pre">s1</span></code>, and <code class="docutils literal notranslate"><span class="pre">s2</span></code> all point to it. In some cases such behavior is desirable, e.g. if the mutable object is a specific global list (e.g. a set of search paths) with a unique identity and all of the parameters are meant to point to that specific item. In other cases, it’s the contents of the mutable item that are important, and no sharing of contents is intended. Luckily, Param supports that case as well, if you provide <code class="docutils literal notranslate"><span class="pre">instantiate=True</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>

<span class="k">class</span> <span class="nc">D</span><span class="p">(</span><span class="n">Parameterized</span><span class="p">):</span>
    <span class="n">s1</span> <span class="o">=</span> <span class="n">Parameter</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">"A sequence"</span><span class="p">,</span> <span class="n">instantiate</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">s2</span> <span class="o">=</span> <span class="n">Parameter</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">"Another sequence"</span><span class="p">,</span> <span class="n">instantiate</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">d</span> <span class="o">=</span> <span class="n">D</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>Now, parameters <code class="docutils literal notranslate"><span class="pre">s1</span></code> and <code class="docutils literal notranslate"><span class="pre">s2</span></code> point to their own copies of the sequence, independent of each other and of the original argument <code class="docutils literal notranslate"><span class="pre">s</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">d</span><span class="o">.</span><span class="n">s1</span> <span class="ow">is</span> <span class="n">d</span><span class="o">.</span><span class="n">s2</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>False
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">s</span><span class="o">*=</span><span class="mi">2</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">s</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[1, 2, 3, 1, 2, 3]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">d</span><span class="o">.</span><span class="n">s1</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[1, 2, 3]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">d</span><span class="o">.</span><span class="n">s1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">=</span><span class="s1">'a'</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">d</span><span class="o">.</span><span class="n">s2</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[1, 2, 3]
</pre></div>
</div>
</div>
</div>
<p>Of course, copying the data into each instance like that costs memory, and moreover prevents controlling all instances at once by setting a class attribute as we saw earlier, which is why <code class="docutils literal notranslate"><span class="pre">instantiate</span></code> is not True by default. As a rule of thumb, set <code class="docutils literal notranslate"><span class="pre">instantiate=True</span></code> if and only if (a) your Parameter can take mutable values, and (b) you want those values to be independent between Parameterized instances.</p>
</section>
<section id="parameter-metadata-inheritance-and-instantiation">
<h2>Parameter metadata inheritance and instantiation<a class="headerlink" href="#parameter-metadata-inheritance-and-instantiation" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">instantiate</span></code> controls how parameter <em>values</em> behave, but similar issues arise for Parameter <em>objects</em>, which offer similar control via the <code class="docutils literal notranslate"><span class="pre">per_instance</span></code> metadata declaration. <code class="docutils literal notranslate"><span class="pre">per_instance</span></code> (True by default) provides a logically distinct Parameter object for every Parameterized instance, allowing each such instance to have different metadata for that parameter. For example, we can set the label separately for each instance without clobbering each other:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">d1</span> <span class="o">=</span> <span class="n">D</span><span class="p">()</span>
<span class="n">d2</span> <span class="o">=</span> <span class="n">D</span><span class="p">()</span>
<span class="n">d1</span><span class="o">.</span><span class="n">param</span><span class="o">.</span><span class="n">s1</span><span class="o">.</span><span class="n">label</span><span class="o">=</span><span class="s2">"sequence 1"</span>
<span class="n">d2</span><span class="o">.</span><span class="n">param</span><span class="o">.</span><span class="n">s1</span><span class="o">.</span><span class="n">label</span><span class="o">=</span><span class="s2">"Sequence 1"</span>
<span class="n">d2</span><span class="o">.</span><span class="n">param</span><span class="o">.</span><span class="n">s1</span><span class="o">.</span><span class="n">label</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>'Sequence 1'
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">d1</span><span class="o">.</span><span class="n">param</span><span class="o">.</span><span class="n">s1</span><span class="o">.</span><span class="n">label</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>'sequence 1'
</pre></div>
</div>
</div>
</div>
<p>This capability is useful for situations with dynamically updated metadata, e.g. if you need setting one parameter’s value (e.g. ‘Continent’) to change the allowed values of another parameter (e.g. ‘Country’). The underlying Parameter objects are copied lazily (only when actually changed), so that objects are not actually multiplied unless necessary. If you do want parameters to share a single Parameter object so that you can control its behavior globally, you can achieve that with <code class="docutils literal notranslate"><span class="pre">per_instance=False</span></code>, though the effects can be confusing in the same way as <code class="docutils literal notranslate"><span class="pre">instantiate=True</span></code> for mutable objects (above):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">E</span><span class="p">(</span><span class="n">Parameterized</span><span class="p">):</span>
    <span class="n">a</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">Parameter</span><span class="p">(</span><span class="mf">3.14</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">"pi"</span><span class="p">,</span> <span class="n">per_instance</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="n">e1</span> <span class="o">=</span> <span class="n">E</span><span class="p">()</span>
<span class="n">e2</span> <span class="o">=</span> <span class="n">E</span><span class="p">()</span>
<span class="n">e2</span><span class="o">.</span><span class="n">param</span><span class="o">.</span><span class="n">a</span><span class="o">.</span><span class="n">label</span><span class="o">=</span><span class="s2">"Pie"</span>
<span class="n">e1</span><span class="o">.</span><span class="n">param</span><span class="o">.</span><span class="n">a</span><span class="o">.</span><span class="n">label</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>'Pie'
</pre></div>
</div>
</div>
</div>
</section>
<section id="instantiating-with-shared-parameters">
<h2>Instantiating with shared parameters<a class="headerlink" href="#instantiating-with-shared-parameters" title="Permalink to this headline">¶</a></h2>
<p>When creating a large collection of Parameterized objects of the same type, the overhead of having separate parameters for each object can be significant. If you want, you can create the objects to share parameter values for efficiency, and also so that you can easily change a value on all such objects at the same time.</p>
<p>As an example, let’s say you’ve defined a Parameter value to be independent, such that changing one instance’s value will not affect the others:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">S</span><span class="p">(</span><span class="n">param</span><span class="o">.</span><span class="n">Parameterized</span><span class="p">):</span>
    <span class="n">l</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">Parameter</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">instantiate</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">ss</span> <span class="o">=</span> <span class="p">[</span><span class="n">S</span><span class="p">()</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)]</span>
<span class="n">ss</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">l</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">=</span><span class="mi">5</span>
<span class="n">ss</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">l</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[1, 2, 3]
</pre></div>
</div>
</div>
</div>
<p>Here changing the value of <code class="docutils literal notranslate"><span class="pre">l</span></code> on <code class="docutils literal notranslate"><span class="pre">ss[0]</span></code> doesn’t affect <code class="docutils literal notranslate"><span class="pre">ss[1]</span></code> or any other instances.</p>
<p>What if you as a user of this class are creating a very large number of similar objects and actually do want them to share the same parameter value, either to save memory or to make it easy to change all of their values at once? In that case you can use the context manager <code class="docutils literal notranslate"><span class="pre">shared_parameters</span></code>, and any Parameterized objects created within that context will share parameter values, such that changing one of them will affect all of them:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">param</span><span class="o">.</span><span class="n">shared_parameters</span><span class="p">():</span>
    <span class="n">ps</span> <span class="o">=</span> <span class="p">[</span><span class="n">S</span><span class="p">()</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)]</span>
    
<span class="n">ps</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">l</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">=</span><span class="mi">5</span>
<span class="n">ps</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">l</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[1, 2, 5]
</pre></div>
</div>
</div>
</div>
<p>This approach can provide significant speedup and memory savings in certain cases, but should only be used for good reasons, since it can cause confusion for any code expecting instances to be independent as they have been declared.</p>
</section>
<section id="displaying-parameterized-objects">
<h2>Displaying Parameterized objects<a class="headerlink" href="#displaying-parameterized-objects" title="Permalink to this headline">¶</a></h2>
<p>Most of the important behavior of Parameterized is to do with instantiation, getting, and setting, as described above. Parameterized also provides a few public methods for creating a string representation of the Parameterized object and its parameters:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Parameterized.__str__()</span></code>: A concise, non-executable representation of the name and class of this object</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Parameterized.__repr__()</span></code>: A representation of this object and its parameter values as if it were Python code calling the constructor (<code class="docutils literal notranslate"><span class="pre">classname(parameter1=x,parameter2=y,...)</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Parameterized.param.pprint()</span></code>: Customizable, hierarchical pretty-printed representation of this Parameterized and (recursively) any of its parameters that are Parameterized objects. See <a class="reference internal" href="Serialization_and_Persistence.html"><span class="doc std std-doc">Serialization and Persistence</span></a> for details on customizing <code class="docutils literal notranslate"><span class="pre">pprint</span></code>.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">param</span>

<span class="k">class</span> <span class="nc">Q</span><span class="p">(</span><span class="n">param</span><span class="o">.</span><span class="n">Parameterized</span><span class="p">):</span>
    <span class="n">a</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">Number</span><span class="p">(</span><span class="mi">39</span><span class="p">,</span> <span class="n">bounds</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">50</span><span class="p">))</span>
    <span class="n">b</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">String</span><span class="p">(</span><span class="s2">"str"</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">P</span><span class="p">(</span><span class="n">Q</span><span class="p">):</span>
    <span class="n">c</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">ClassSelector</span><span class="p">(</span><span class="n">Q</span><span class="p">,</span> <span class="n">Q</span><span class="p">())</span>
    <span class="n">e</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">ClassSelector</span><span class="p">(</span><span class="n">param</span><span class="o">.</span><span class="n">Parameterized</span><span class="p">,</span> <span class="n">param</span><span class="o">.</span><span class="n">Parameterized</span><span class="p">())</span>
    <span class="n">f</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">Range</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>

<span class="n">p</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="n">f</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span> <span class="n">c</span><span class="o">=</span><span class="n">P</span><span class="p">(</span><span class="n">f</span><span class="o">=</span><span class="p">(</span><span class="mi">42</span><span class="p">,</span><span class="mi">43</span><span class="p">)),</span> <span class="n">name</span><span class="o">=</span><span class="s2">"demo"</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">p</span><span class="o">.</span><span class="fm">__str__</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>'&lt;P demo&gt;'
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">p</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>"P(a=39, b='str', c=P(a=39, b='str', c=Q(a=39, b='str', name='Q00034'), e=Parameterized(name='Parameterized00035'), f=(42, 43), name='P00033'), e=Parameterized(name='Parameterized00038'), f=(2, 3), name='demo')"
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">p</span><span class="o">.</span><span class="n">param</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">separator</span><span class="o">=</span><span class="s2">"</span><span class="se">\n</span><span class="s2">"</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>"P(c=P(c=Q(),     e=Parameterized(),     f=(42,43)),\n e=Parameterized(),\n f=(2,3),\n name='demo')"
</pre></div>
</div>
</div>
</div>
<p>Notice that in the case of a circular reference (<code class="docutils literal notranslate"><span class="pre">p.c</span> <span class="pre">=</span> <span class="pre">P(c=p)</span></code>) the representation will show an ellipsis (<code class="docutils literal notranslate"><span class="pre">...</span></code>) rather than recursively printing the subobject:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">p</span><span class="o">.</span><span class="n">c</span><span class="o">=</span><span class="n">P</span><span class="p">(</span><span class="n">c</span><span class="o">=</span><span class="n">p</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">param</span><span class="o">.</span><span class="n">pprint</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>"P(c=P(c=...,     e=Parameterized()), e=Parameterized(), f=(2,3), name='demo')"
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="other-parameterized-methods">
<h1>Other Parameterized methods<a class="headerlink" href="#other-parameterized-methods" title="Permalink to this headline">¶</a></h1>
<p>Like <code class="docutils literal notranslate"><span class="pre">.param.pprint</span></code>, the remaining “utility” or convenience methods available for a <code class="docutils literal notranslate"><span class="pre">Parameterized</span></code> class or object are provided via a subobject called <code class="docutils literal notranslate"><span class="pre">param</span></code> that helps keep the namespace clean and disambiguate between Parameter objects and parameter values:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">.param.add_parameter(param_name,param_obj)</span></code>: Dynamically add a new Parameter to this object’s class</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.param.update(**kwargs)</span></code>: Set parameter values from the given <code class="docutils literal notranslate"><span class="pre">param=value</span></code> keyword arguments (or a dict or iterable), delaying watching and dependency handling until all have been updated</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.param.values(onlychanged=False)</span></code>: A dict of name,value pairs for all parameters of this object</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.param.objects(instance=True)</span></code>: Parameter objects of this instance or class</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.param.get_value_generator(name)</span></code>: Returns the underlying value-generating callable for this parameter, or the underlying static value if none</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.param.force_new_dynamic_value(name)</span></code>: For a Dynamic parameter, generate a new value and return it</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.param.inspect_value(name)</span></code>: For a Dynamic parameter, return the current value of the named attribute without modifying it.</p></li>
</ul>
<section id="specialized-parameter-types">
<h2>Specialized Parameter types<a class="headerlink" href="#specialized-parameter-types" title="Permalink to this headline">¶</a></h2>
<p>As you can see above, a <code class="docutils literal notranslate"><span class="pre">Parameter</span></code> provides a lot of power already on its own, but in practice you will want to use much more specific parameter types that reject invalid inputs and keep your code clean and simple. A specialized Parameter acts as a “contract” with the users of the code you write, declaring and defending precisely what configuration is allowed and how to achieve it. If you need to accept specific inputs like that but don’t add an appropriate Parameter type, you’ll be stuck adding exceptions and validation code throughout your codebase, whereas anything you can express at the Parameter level will be enforced automatically without any further checks or code.</p>
<p>For instance, what if you want to accept a numeric parameter, but (for some reason) can only accept numbers that are integer powers of 2? You’ll need a custom Parameter class to express a restriction like that. In this case you can do it by overriding the <code class="docutils literal notranslate"><span class="pre">_validate_value</span></code> method of the <code class="docutils literal notranslate"><span class="pre">Parameter</span></code> class:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numbers</span>

<span class="k">class</span> <span class="nc">BinaryPower</span><span class="p">(</span><span class="n">param</span><span class="o">.</span><span class="n">Parameter</span><span class="p">):</span>
    <span class="sd">"""Integer Parameter required to be a power of 2"""</span>

    <span class="k">def</span> <span class="nf">_validate_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">allow_None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">BinaryPower</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">_validate_value</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="n">allow_None</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="n">numbers</span><span class="o">.</span><span class="n">Number</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">"BinaryPower parameter </span><span class="si">%r</span><span class="s2"> must be a number, "</span>
                             <span class="s2">"not </span><span class="si">%r</span><span class="s2">."</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">val</span><span class="p">))</span>
        
        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">val</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">"BinaryPower parameter </span><span class="si">%r</span><span class="s2"> must be a power of 2, "</span>
                             <span class="s2">"not </span><span class="si">%r</span><span class="s2">."</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">val</span><span class="p">))</span>

<span class="k">class</span> <span class="nc">P</span><span class="p">(</span><span class="n">param</span><span class="o">.</span><span class="n">Parameterized</span><span class="p">):</span>
    <span class="n">n</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">Number</span><span class="p">()</span>
    <span class="n">b</span> <span class="o">=</span> <span class="n">BinaryPower</span><span class="p">()</span>
    
<span class="n">p</span><span class="o">=</span><span class="n">P</span><span class="p">()</span>
<span class="n">P</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="n">P</span><span class="p">(</span><span class="n">b</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">'P00003'</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>P(b=4, n=5, name='P00003')
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">param</span><span class="o">.</span><span class="n">exceptions_summarized</span><span class="p">():</span>
    <span class="n">P</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="s2">"four"</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>ValueError: BinaryPower parameter 'b' must be a number, not 'four'.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">param</span><span class="o">.</span><span class="n">exceptions_summarized</span><span class="p">():</span>
    <span class="n">P</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>ValueError: BinaryPower parameter 'b' must be a power of 2, not 5.
</pre></div>
</div>
</div>
</div>
<p>Luckily, you don’t often need to write a custom Parameter class like this, because the most common cases are already provided in Param, as listed in the <a class="reference internal" href="Parameter_Types.html"><span class="doc std std-doc">Parameter Types</span></a> manual. If you need something more specific than the existing types, start with the one that comes closest to restricting its value to the desired set of values without excluding any allowable values. In this case all integer powers of 2 are also integers, so you’d start with <code class="docutils literal notranslate"><span class="pre">param.Integer</span></code> rather than <code class="docutils literal notranslate"><span class="pre">param.Parameterized</span></code> as above. You can then make a new subclass and add validation as above to further restrict the values to precisely what you allow. Here if you inherited from <code class="docutils literal notranslate"><span class="pre">param.Integer</span></code> you would no longer need to check if the input is a number, as <code class="docutils literal notranslate"><span class="pre">param.Integer</span></code> already does that as long as you call <code class="docutils literal notranslate"><span class="pre">super</span></code> as above. Your custom type can override any aspects of the Parameter if needed, e.g. to accept different items in the constructor, store additional data, add additional constraints, and so on. The existing Parameter types in <code class="docutils literal notranslate"><span class="pre">param/__init__.py</span></code> act as a rich source of examples for you to start with and crib from.</p>
</section>
</section>
</div>
<!-- Previous / next buttons -->
<div class="prev-next-area">
<a class="left-prev" href="Simplifying_Codebases.html" id="prev-link" title="previous page">
<i class="fas fa-angle-left"></i>
<div class="prev-next-info">
<p class="prev-next-subtitle">previous</p>
<p class="prev-next-title">Simplifying Codebases</p>
</div>
</a>
<a class="right-next" href="Parameter_Types.html" id="next-link" title="next page">
<div class="prev-next-info">
<p class="prev-next-subtitle">next</p>
<p class="prev-next-title">Parameter types</p>
</div>
<i class="fas fa-angle-right"></i>
</a>
</div>
</main>
</div>
</div>
<script src="../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>
<footer class="footer mt-5 mt-md-0">
<div class="container">
<div class="footer-item">
<p class="copyright">
    © Copyright 2003-2021 HoloViz developers.<br/>
</p>
</div>
<div class="footer-item">
<p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.3.0.<br/>
</p>
</div>
</div>
</footer>
</body>
</html>